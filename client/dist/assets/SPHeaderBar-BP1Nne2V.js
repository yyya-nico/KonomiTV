import{u as B,j as R,a as V,R as u,_ as b}from"./top-Ra0pbfKg.js";import{_ as q}from"./logo-DS3Ny_pw.js";import{V as w}from"./ssrBoot-9bFU7tTc.js";import{I as P,W as h,ai as W,M as E,a5 as r,F as M,a4 as n,p as i,_ as U,a8 as $,a2 as v,ay as d,ad as D,$ as s}from"./SnackbarsStore-D2723teg.js";const F={key:1,class:"search-box"},H={class:"search-box__icon"},K=["placeholder"],N=P({__name:"SPHeaderBar",setup(T){const f=V(),a=B(),p=h(null),o=h(!1),t=h(""),y=W(()=>_(a.path)?"録画番組やシリーズを検索...":"放送予定の番組を検索..."),_=e=>e.startsWith("/videos")||e.startsWith("/mylist")||e.startsWith("/watched-history"),k=()=>_(a.path)?"/videos/search":"/tv/search",x=()=>{o.value=!0,setTimeout(()=>{p.value?.focus()},0)},m=()=>{o.value=!1,t.value=""},g=()=>{if(t.value.trim()){const e=k();f.push(`${e}?query=${encodeURIComponent(t.value.trim())}`)}},S=e=>{e.key==="Enter"?g():e.key==="Escape"&&m()};return E(()=>{a.path.endsWith("/search")&&a.query.query&&(t.value=decodeURIComponent(a.query.query),o.value=!0)}),(e,c)=>{const C=v("router-link"),l=v("Icon");return s(),r("header",{class:D(["header",{"search-active":o.value}])},[o.value?(s(),r("div",F,[d("div",H,[i(l,{icon:"fluent:search-20-filled",height:"20px"})]),n(d("input",{ref_key:"searchInput",ref:p,type:"search",enterkeyhint:"search",placeholder:y.value,"onUpdate:modelValue":c[0]||(c[0]=I=>t.value=I),onKeydown:S},null,40,K),[[R,t.value]]),n((s(),r("div",{class:"search-box__close",onClick:m},[i(l,{icon:"fluent:dismiss-20-filled",height:"24px"})])),[[u]])])):(s(),r(M,{key:0},[n((s(),U(C,{class:"konomitv-logo",to:"/tv/"},{default:$(()=>[...c[1]||(c[1]=[d("img",{class:"konomitv-logo__image",src:q,height:"21"},null,-1)])]),_:1})),[[u]]),i(w),n((s(),r("div",{class:"search-button",onClick:x},[i(l,{icon:"fluent:search-20-filled",height:"24px"})])),[[u]])],64))],2)}}}),G=b(N,[["__scopeId","data-v-7baf0778"]]);export{G as S};
