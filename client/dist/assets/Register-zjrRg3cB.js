import{I as f,aM as w,aD as g,aP as c,a5 as h,p as t,ay as a,a2 as o,a8 as n,az as y,$ as v}from"./SnackbarsStore-C4icXDBu.js";import{N as V,H as _}from"./Navigation-Cow0oGzw.js";import{S as $}from"./SPHeaderBar-Ck6Cm8J0.js";import{_ as S,w as B,aj as i,V as H}from"./top-BIFAtjVO.js";import{_ as C}from"./logo-C_ijiYXP.js";import{V as N,a as b}from"./VCard-pWR3xOzd.js";import{V as k,a as l}from"./VTextField-CFFggvP1.js";import{V as I}from"./VForm-DqQBgSIS.js";import"./ssrBoot-COfk37xD.js";import"./VersionStore-CJVA931X.js";import"./VAvatar-CyaIa0Uw.js";const U=f({name:"Register",components:{HeaderBar:_,Navigation:V,SPHeaderBar:$},data(){return{is_form_dense:g.isSmartphoneHorizontal(),username:null,username_validation:e=>e===""||e===null?"ユーザー名を入力してください。":/^.{2,}$/.test(e)===!1?"ユーザー名は2文字以上で入力してください。":!0,password:null,password_showing:!0,password_validation:e=>e===""||e===null?"パスワードを入力してください。":/^[a-zA-Z0-9!-/:-@¥[-`{-~]{4,}$/.test(e)===!1?"パスワードは4文字以上の半角英数記号を入力してください。":!0}},computed:{...w(c)},async created(){await this.userStore.fetchUser(),this.userStore.is_logged_in&&await this.$router.replace({path:"/settings/account"})},methods:{async register(){(await this.$refs.register.validate()).valid===!1||this.username===null||this.password===null||await this.userStore.register(this.username,this.password)===!1||await this.$router.replace({path:"/settings/account"})}}}),P={class:"route-container"},z={class:"register-container-wrapper d-flex align-center w-100 mb-13"};function K(e,r,T,j,D,F){const d=o("HeaderBar"),p=o("Navigation"),m=o("SPHeaderBar"),u=o("Icon");return v(),h("div",P,[t(d),a("main",null,[t(p),t(m,{"hide-on-smartphone-vertical":!0}),a("div",z,[t(b,{class:"register-container px-10 pt-8 pb-11 mx-auto",elevation:"10",width:"100%","max-width":"450"},{default:n(()=>[t(N,{class:"register__logo py-4 d-flex flex-column justify-center align-center"},{default:n(()=>[...r[7]||(r[7]=[a("img",{class:"d-block",src:C,style:{"max-width":"250px"}},null,-1),a("h4",{class:"mt-10"},"アカウントを作成",-1)])]),_:1}),t(k),t(I,{ref:"register",onSubmit:r[6]||(r[6]=B(()=>{},["prevent"]))},{default:n(()=>[t(l,{class:"mt-12",color:"primary",variant:"outlined",placeholder:"ユーザー名",autofocus:"",density:e.is_form_dense?"compact":"default",modelValue:e.username,"onUpdate:modelValue":r[0]||(r[0]=s=>e.username=s),rules:[e.username_validation],onKeyup:r[1]||(r[1]=i(s=>e.register(),["enter"]))},null,8,["density","modelValue","rules"]),t(l,{style:{"margin-top":"10px"},color:"primary",variant:"outlined",placeholder:"パスワード",density:e.is_form_dense?"compact":"default",modelValue:e.password,"onUpdate:modelValue":r[2]||(r[2]=s=>e.password=s),type:e.password_showing?"text":"password",rules:[e.password_validation],"append-inner-icon":e.password_showing?"mdi-eye":"mdi-eye-off","onClick:appendInner":r[3]||(r[3]=s=>e.password_showing=!e.password_showing),onKeyup:r[4]||(r[4]=i(s=>e.register(),["enter"]))},null,8,["density","modelValue","type","rules","append-inner-icon"]),t(H,{class:"register-button mt-5",color:"secondary",variant:"flat",width:"100%",height:"56",onClick:r[5]||(r[5]=s=>e.register())},{default:n(()=>[t(u,{icon:"fluent:person-add-20-filled",class:"mr-2",height:"24"}),r[8]||(r[8]=y("アカウントを作成 ",-1))]),_:1})]),_:1},512)]),_:1})])])])}const Q=S(U,[["render",K],["__scopeId","data-v-361a91d6"]]);export{Q as default};
