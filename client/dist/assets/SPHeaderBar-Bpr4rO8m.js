import{u as V,b,a as w,R as u,_ as B}from"./top-OuqvGzs1.js";import{_ as R}from"./logo-CDToo6Ak.js";import{V as q}from"./ssrBoot-BucdMdVy.js";import{I as P,V as h,ah as W,M as E,a4 as r,F as M,a3 as n,p as i,Z as U,a7 as D,a1 as v,aw as d,ac as F,_ as s}from"./SnackbarsStore-D4uwPXBo.js";const H={key:1,class:"search-box"},K={class:"search-box__icon"},N=["placeholder"],T=P({__name:"SPHeaderBar",setup($){const f=w(),a=V(),p=h(null),o=h(!1),t=h(""),y=W(()=>_(a.path)?"録画番組やシリーズを検索...":"放送予定の番組を検索..."),_=e=>e.startsWith("/videos")||e.startsWith("/mylist")||e.startsWith("/watched-history"),k=()=>_(a.path)?"/videos/search":"/tv/search",x=()=>{o.value=!0,setTimeout(()=>{var e;(e=p.value)==null||e.focus()},0)},m=()=>{o.value=!1,t.value=""},g=()=>{if(t.value.trim()){const e=k();f.push(`${e}?query=${encodeURIComponent(t.value.trim())}`)}},S=e=>{e.key==="Enter"?g():e.key==="Escape"&&m()};return E(()=>{a.path.endsWith("/search")&&a.query.query&&(t.value=decodeURIComponent(a.query.query),o.value=!0)}),(e,c)=>{const C=v("router-link"),l=v("Icon");return s(),r("header",{class:F(["header",{"search-active":o.value}])},[o.value?(s(),r("div",H,[d("div",K,[i(l,{icon:"fluent:search-20-filled",height:"20px"})]),n(d("input",{ref_key:"searchInput",ref:p,type:"search",enterkeyhint:"search",placeholder:y.value,"onUpdate:modelValue":c[0]||(c[0]=I=>t.value=I),onKeydown:S},null,40,N),[[b,t.value]]),n((s(),r("div",{class:"search-box__close",onClick:m},[i(l,{icon:"fluent:dismiss-20-filled",height:"24px"})])),[[u]])])):(s(),r(M,{key:0},[n((s(),U(C,{class:"konomitv-logo",to:"/tv/"},{default:D(()=>c[1]||(c[1]=[d("img",{class:"konomitv-logo__image",src:R,height:"21"},null,-1)])),_:1})),[[u]]),i(q),n((s(),r("div",{class:"search-button",onClick:x},[i(l,{icon:"fluent:search-20-filled",height:"24px"})])),[[u]])],64))],2)}}}),j=B(T,[["__scopeId","data-v-7baf0778"]]);export{j as S};
