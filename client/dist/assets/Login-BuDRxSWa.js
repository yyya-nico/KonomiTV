import{I as u,aM as f,aL as g,aD as w,aP as c,a5 as y,p as s,ay as t,a2 as r,a8 as n,az as V,$ as h}from"./SnackbarsStore-D2723teg.js";import{N as v,H as _}from"./Navigation-BG-VQcp_.js";import{_ as $,w as B,P as i,V as C}from"./top-Ra0pbfKg.js";import{_ as N}from"./logo-DS3Ny_pw.js";import{V as S,a as b}from"./VCard-D_Ycheih.js";import{V as k,a as l}from"./VTextField-B6HwneY5.js";import{V as H}from"./VForm-CW756b7t.js";import"./ssrBoot-9bFU7tTc.js";import"./VersionStore-Vd_xoAev.js";import"./VAvatar-Dxt8YX1N.js";const I=u({name:"Login",components:{HeaderBar:_,Navigation:v},data(){return{is_form_dense:w.isSmartphoneHorizontal(),username:"",password:"",password_showing:!1}},computed:{...f(c)},async created(){await this.userStore.fetchUser(),this.userStore.is_logged_in&&await this.$router.replace({path:"/settings/account"})},methods:{async login(){if(this.username===""||this.password===""){g.error("ユーザー名またはパスワードが空です。");return}await this.userStore.login(this.username,this.password)!==!1&&await this.$router.replace({path:"/settings/account"})}}}),U={class:"route-container"},K={class:"login-container-wrapper d-flex align-center w-100 mb-13"};function L(o,e,M,T,x,z){const d=r("HeaderBar"),p=r("Navigation"),m=r("Icon");return h(),y("div",U,[s(d),t("main",null,[s(p),t("div",K,[s(b,{class:"login-container px-10 pt-8 pb-11 mx-auto",elevation:"10",width:"100%","max-width":"450"},{default:n(()=>[s(S,{class:"login__logo py-4 d-flex flex-column justify-center align-center"},{default:n(()=>[...e[7]||(e[7]=[t("img",{class:"d-block",src:N,style:{"max-width":"250px"}},null,-1),t("h4",{class:"mt-10"},"ログイン",-1)])]),_:1}),s(k),s(H,{ref:"login",onSubmit:e[6]||(e[6]=B(()=>{},["prevent"]))},{default:n(()=>[s(l,{class:"mt-12",color:"primary",variant:"outlined",placeholder:"ユーザー名","hide-details":"",autofocus:"",density:o.is_form_dense?"compact":"default",modelValue:o.username,"onUpdate:modelValue":e[0]||(e[0]=a=>o.username=a),onKeyup:e[1]||(e[1]=i(a=>o.login(),["enter"]))},null,8,["density","modelValue"]),s(l,{class:"mt-8",color:"primary",variant:"outlined",placeholder:"パスワード","hide-details":"",density:o.is_form_dense?"compact":"default",modelValue:o.password,"onUpdate:modelValue":e[2]||(e[2]=a=>o.password=a),type:o.password_showing?"text":"password","append-inner-icon":o.password_showing?"mdi-eye":"mdi-eye-off","onClick:appendInner":e[3]||(e[3]=a=>o.password_showing=!o.password_showing),onKeyup:e[4]||(e[4]=i(a=>o.login(),["enter"]))},null,8,["density","modelValue","type","append-inner-icon"]),s(C,{class:"login-button mt-5",color:"secondary",variant:"flat",width:"100%",height:"56",onClick:e[5]||(e[5]=a=>o.login())},{default:n(()=>[s(m,{icon:"fa:sign-in",class:"mr-2"}),e[8]||(e[8]=V("ログイン ",-1))]),_:1})]),_:1},512)]),_:1})])])])}const Q=$(I,[["render",L],["__scopeId","data-v-d18954b5"]]);export{Q as default};
