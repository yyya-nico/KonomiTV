import{I as te,V as W,p as G,al as re,ah as Y,M as ye,P as be,N as K,aa as ge}from"./SnackbarsStore-DIk21UOt.js";const _=null,{min:R,max:H,abs:le,floor:Se}=Math,ae=(e,t,n)=>R(n,H(t,e)),ce=e=>[...e].sort((t,n)=>t-n),ie=typeof queueMicrotask=="function"?queueMicrotask:e=>{Promise.resolve().then(e)},ne=e=>{let t,n;return()=>(t||(t=!0,n=e()),n)},F=-1,Z=(e,t,n)=>{const a=n?"unshift":"push";for(let f=0;f<t;f++)e[a](F);return e},$=(e,t)=>{const n=e.t[t];return n===F?e.o:n},we=(e,t,n)=>{const a=e.t[t]===F;return e.t[t]=n,e.i=R(t,e.i),a},X=(e,t)=>{if(!e.l)return 0;if(e.i>=t)return e.u[t];e.i<0&&(e.u[0]=0,e.i=0);let n=e.i,a=e.u[n];for(;n<t;)a+=$(e,n),e.u[++n]=a;return e.i=t,a},A=(e,t,n=0,a=e.l-1)=>{for(;n<=a;){const f=Se((n+a)/2),v=X(e,f);if(v<=t){if(v+$(e,f)>t)return f;n=f+1}else a=f-1}return ae(n,0,e.l-1)},ue=(e,t,n)=>{const a=t-e.l;return e.i=n?-1:R(t-1,e.i),e.l=t,a>0?(Z(e.u,a),Z(e.t,a,n),e.o*a):(e.u.splice(a),(n?e.t.splice(0,-a):e.t.splice(a)).reduce((f,v)=>f-(v===F?e.o:v),0))},ke=typeof window<"u",de=()=>document.documentElement,ze=e=>e.ownerDocument,Ee=e=>e.defaultView,fe=ne(()=>!!ke&&getComputedStyle(de()).direction==="rtl"),pe=ne(()=>/iP(hone|od|ad)/.test(navigator.userAgent)),xe=ne(()=>"scrollBehavior"in de().style),Oe=e=>!!e.p(),je=(e,t=40,n=4,a=0,f,v=!1)=>{let g=!!a,l=[],i=0,E=0,w=0,C=0,q=0,I=0,B=0,T=0,N=0,p=g?[0,H(a-1,0)]:_,r=[0,0],h=0;const c=((s,u)=>({o:u,t:Z([],s),l:s,i:-1,u:Z([],s)}))(e,t),M=new Set,x=()=>w-E,m=()=>x()+I+q,S=s=>((u,b,V,z)=>{if(z=R(z,u.l-1),X(u,z)<=b){const P=A(u,b+V,z);return[A(u,b,z,P),P]}{const P=A(u,b,void 0,z);return[P,A(u,b+V,P)]}})(c,s,i,r[0]),k=()=>(s=>s.l?X(s,s.l-1)+$(s,s.l-1):0)(c),o=s=>X(c,s)-I,d=s=>$(c,s),y=s=>{s&&(pe()&&T!==0?I+=s:(q+=s,C++))};return{h:()=>l,m:()=>(s=>[s.t.slice(),s.o])(c),v:()=>{if(B)return r;let[s,u]=S(H(0,m()));return p&&(s=R(s,p[0]),u=H(u,p[1])),T!==1&&(s-=H(0,n)),T!==2&&(u+=H(0,n)),r=[H(s,0),R(u,c.l-1)]},S:()=>A(c,m()),I:()=>A(c,m()+i),k:s=>c.t[s]===F,O:()=>!!p&&c.t.slice(H(0,p[0]-1),R(c.l-1,p[1]+1)+1).includes(F),j:o,T:d,B:()=>c.l,q:()=>w,P:()=>T!==0,p:()=>i,R:()=>E,M:k,N:()=>C,A:()=>(B=q,q=0,[B,N===2||x()+i>=k()]),C:(s,u)=>{const b=[s,u];return M.add(b),()=>{M.delete(b)}},H:(s,u)=>{let b,V,z=0;switch(s){case 1:{const P=B;B=0;const O=u-w,j=le(O);P&&j<le(P)+1||N!==0||(T=O<0?2:1),g&&(p=_,g=!1),w=u,z=4;const L=x();L>=-i&&L<=k()&&(z+=1,V=j>i);break}case 2:z=8,T!==0&&(b=!0,z+=1),T=0,N=0,p=_;break;case 3:{const P=u.filter(([O,j])=>c.t[O]!==j);if(!P.length)break;y(P.reduce((O,[j,L])=>((N===2||(p?!g&&j<p[0]:o(j)+(T===0&&N===0?d(j):0)<x()))&&(O+=L-d(j)),O),0));for(const[O,j]of P){const L=d(O),D=we(c,O,j);v&&(h+=D?j:j-L)}v&&i&&h>i&&(y(((O,j)=>{let L=0;const D=[];O.t.forEach((se,me)=>{se!==F&&(D.push(se),me<j&&L++)}),O.i=-1;const U=ce(D),oe=U.length,Q=oe/2|0,ve=oe%2==0?(U[Q-1]+U[Q])/2:U[Q],he=O.o;return((O.o=ve)-he)*H(j-L,0)})(c,A(c,m()))),v=!1),z=3,V=!0;break}case 4:i!==u&&(i=u,z=3);break;case 5:u[1]?(y(ue(c,u[0],!0)),N=2,z=1):(ue(c,u[0]),z=1);break;case 6:E=u;break;case 7:N=1;break;case 8:p=S(u),z=1}z&&(l=[],b&&I&&(q+=I,I=0,C++),M.forEach(([P,O])=>{z&P&&O(V)}))}}},ee=setTimeout,J=(e,t)=>t&&fe()?-e:e,Ie=(e,t,n,a,f,v)=>{const g=Date.now;let l=0,i=!1,E=!1,w=!1,C=!1;const q=(()=>{let p;const r=()=>{p!=_&&clearTimeout(p)},h=()=>{r(),p=ee(()=>{p=_,(()=>{if(i||E)return i=!1,void q();w=!1,e.H(2)})()},150)};return h.J=r,h})(),I=()=>{l=g(),w&&(C=!0),e.H(1,a()),q()},B=p=>{if(i||!e.P()||p.ctrlKey)return;const r=g()-l;150>r&&50<r&&(n?p.deltaX:p.deltaY)&&(i=!0)},T=()=>{E=!0,w=C=!1},N=()=>{E=!1,pe()&&(w=!0)};return t.addEventListener("scroll",I),t.addEventListener("wheel",B,{passive:!0}),t.addEventListener("touchstart",T,{passive:!0}),t.addEventListener("touchend",N,{passive:!0}),{F:()=>{t.removeEventListener("scroll",I),t.removeEventListener("wheel",B),t.removeEventListener("touchstart",T),t.removeEventListener("touchend",N),q.J()},L:()=>{const[p,r]=e.A();p&&(f(J(p,n),r,C),C=!1,r&&e.p()>e.M()&&e.H(1,a()))}}},Me=e=>{let t;return{W(n){(t||(t=new(Ee(ze(n))).ResizeObserver(e))).observe(n)},X(n){t.unobserve(n)},F(){t&&t.disconnect()}}},qe=te({props:{Y:{type:Object,required:!0},U:{type:Object,required:!0},V:{type:Object,required:!0},D:{type:Function,required:!0},G:{type:Number,required:!0},K:{type:Boolean},Z:{type:Boolean},ee:{type:String,required:!0},te:Object},setup(e){const t=W(),n=Y(()=>e.Y.value&&e.U.j(e.G)),a=Y(()=>e.Y.value&&e.U.k(e.G));return K(()=>t.value&&e.G,(f,v,g)=>{g(e.D(t.value,e.G))},{flush:"post"}),()=>{var f;const{V:v,K:g,Z:l,ee:i}=e,E=a.value,{style:w,...C}=(f=e.te)!==null&&f!==void 0?f:{},q={position:E&&l?void 0:"absolute",[g?"height":"width"]:"100%",[g?"top":"left"]:"0px",[g?fe()?"right":"left":"top"]:n.value+"px",visibility:!E||l?"visible":"hidden",...w};return g&&(q.display="flex"),G(i,ge({ref:t,style:q},C),typeof(I=v)=="function"||Object.prototype.toString.call(I)==="[object Object]"&&!re(I)?v:{default:()=>[v],_:2},16,["style"]);var I}}}),Pe=(e,t)=>{const n=e.key;return n??"_"+t},Te=(e,t)=>e[0]===t[0]&&e[1]===t[1],Ce=te({props:{data:{type:Array,required:!0},overscan:Number,itemSize:Number,shift:Boolean,horizontal:Boolean,startMargin:{type:Number,default:0},ssrCount:Number,scrollRef:Object,as:{type:String,default:"div"},item:{type:String,default:"div"},itemProps:Function,keepMounted:Array},emits:["scroll","scrollEnd"],setup(e,{emit:t,expose:n,slots:a}){let f=!!e.ssrCount;const v=e.horizontal,g=W(),l=je(e.data.length,e.itemSize,e.overscan,e.ssrCount,0,!e.itemSize),i=((r,h)=>{let c;const M=h?"width":"height",x=new WeakMap,m=Me(S=>{const k=[];for(const{target:o,contentRect:d}of S)if(o.offsetParent)if(o===c)r.H(4,d[M]);else{const y=x.get(o);y!=_&&k.push([y,d[M]])}k.length&&r.H(3,k)});return{re(S){m.W(c=S)},oe:(S,k)=>(x.set(S,k),m.W(S),()=>{x.delete(S),m.X(S)}),ne:m.F}})(l,v),E=((r,h)=>{let c,M,x;const m=h?"scrollLeft":"scrollTop",S=h?"overflowX":"overflowY",k=async(o,d)=>{if(!c)return void ie(()=>k(o,d));x&&x();const y=()=>{let s;return[new Promise((u,b)=>{s=u,x=b,Oe(r)&&ee(b,150)}),r.C(2,()=>{s&&s()})]};if(d&&xe()){for(;r.H(8,o()),r.O();){const[s,u]=y();try{await s}catch{return}finally{u()}}c.scrollTo({[h?"left":"top"]:J(o(),h),behavior:"smooth"})}else for(;;){const[s,u]=y();try{c[m]=J(o(),h),r.H(7),await s}catch{return}finally{u()}}};return{se(o){c=o,M=Ie(r,o,h,()=>J(o[m],h),(d,y,s)=>{if(s){const u=o.style,b=u[S];u[S]="hidden",ee(()=>{u[S]=b})}y?(o[m]=r.q()+d,x&&x()):o[m]+=d})},ne(){M&&M.F()},ie(o){k(()=>o)},le(o){o+=r.q(),k(()=>o)},ce(o,{align:d,smooth:y,offset:s=0}={}){if(o=ae(o,0,r.B()-1),d==="nearest"){const u=r.j(o),b=r.q();if(u<b)d="start";else{if(!(u+r.T(o)>b+r.p()))return;d="end"}}k(()=>s+r.R()+r.j(o)+(d==="end"?r.T(o)-r.p():d==="center"?(r.T(o)-r.p())/2:0),y)},ae:()=>{M&&M.L()}}})(l,v),w=W(l.h()),C=l.C(1,()=>{w.value=l.h()}),q=l.C(4,()=>{t("scroll",l.q())}),I=l.C(8,()=>{t("scrollEnd")}),B=Y(r=>{w.value;const h=l.v();return r&&Te(r,h)?r:h}),T=Y(()=>w.value&&l.P()),N=Y(()=>w.value&&l.M()),p=Y(()=>w.value&&l.N());return ye(()=>{f=!1,ie(()=>{const r=h=>{i.re(h),E.se(h)};e.scrollRef?r(e.scrollRef):r(g.value.parentElement)})}),be(()=>{C(),q(),I(),i.ne(),E.ne()}),K(()=>e.data.length,r=>{l.H(5,[r,e.shift])}),K(()=>e.startMargin,r=>{l.H(6,r)},{immediate:!0}),K([p],()=>{E.ae()},{flush:"post"}),n({get scrollOffset(){return l.q()},get scrollSize(){return(r=>H(r.M(),r.p()))(l)},get viewportSize(){return l.p()},findStartIndex:l.S,findEndIndex:l.I,getItemOffset:l.j,getItemSize:l.T,scrollToIndex:E.ce,scrollTo:E.ie,scrollBy:E.le}),()=>{const r=e.as,h=e.item,[c,M]=B.value,x=N.value,m=[];function S(o){var d;const y=a.default({item:e.data[o],index:o})[0];return G(qe,{key:Pe(y,o),Y:w,U:l,D:i.oe,G:o,V:y,K:v,Z:f,ee:h,te:(d=e.itemProps)===null||d===void 0?void 0:d.call(e,{item:e.data[o],index:o})},null,8,["Y","U","D","G","V","K","Z","ee","te"])}for(let o=c,d=M;o<=d;o++)m.push(S(o));if(e.keepMounted){const o=[],d=[];ce(e.keepMounted).forEach(y=>{y<c&&o.push(S(y)),y>M&&d.push(S(y))}),m.unshift(...o),m.push(...d)}return G(r,{ref:g,style:{overflowAnchor:"none",flex:"none",position:"relative",visibility:"hidden",width:v?x+"px":"100%",height:v?"100%":x+"px",pointerEvents:T.value?"none":void 0}},typeof(k=m)=="function"||Object.prototype.toString.call(k)==="[object Object]"&&!re(k)?m:{default:()=>[m],_:2},8,["style"]);var k}}}),Be=te({props:{data:{type:Array,required:!0},overscan:Number,itemSize:Number,shift:Boolean,horizontal:Boolean,ssrCount:Number,itemProps:Function,keepMounted:Array},emits:["scroll","scrollEnd"],setup(e,{emit:t,expose:n,slots:a}){const f=e.horizontal,v=i=>{t("scroll",i)},g=()=>{t("scrollEnd")},l=W();return n({get scrollOffset(){return l.value.scrollOffset},get scrollSize(){return l.value.scrollSize},get viewportSize(){return l.value.viewportSize},findStartIndex:(...i)=>l.value.findStartIndex(...i),findEndIndex:(...i)=>l.value.findEndIndex(...i),getItemOffset:(...i)=>l.value.getItemOffset(...i),getItemSize:(...i)=>l.value.getItemSize(...i),scrollToIndex:(...i)=>l.value.scrollToIndex(...i),scrollTo:(...i)=>l.value.scrollTo(...i),scrollBy:(...i)=>l.value.scrollBy(...i)}),()=>{return G("div",{style:{display:f?"inline-block":"block",[f?"overflowX":"overflowY"]:"auto",contain:"strict",width:"100%",height:"100%"}},[G(Ce,{ref:l,data:e.data,overscan:e.overscan,itemSize:e.itemSize,itemProps:e.itemProps,shift:e.shift,ssrCount:e.ssrCount,horizontal:f,keepMounted:e.keepMounted,onScroll:v,onScrollEnd:g},(i=a,typeof i=="function"||Object.prototype.toString.call(i)==="[object Object]"&&!re(i)?a:{default:()=>[a],_:2}),8,["data","overscan","itemSize","itemProps","shift","ssrCount","horizontal","keepMounted","onScroll","onScrollEnd"])],4);var i}}});export{Be as F};
