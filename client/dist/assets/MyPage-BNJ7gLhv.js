import{u as m,H as f,N as g,S as v}from"./SPHeaderBar-Bmzq-aaB.js";import{d as h,y,x,c as u,a as s,b as t,h as o,w as b,k as w,B as a,e as V,t as c,r as d,V as l,n as k,o as _,R as B,_ as S}from"./top-BkmcGQoa.js";import{a as C}from"./VCard-CieSn-Si.js";import"./ssrBoot-CnM8PyRy.js";import"./_commonjsHelpers-CSPQI3rM.js";import"./VAvatar-Dw6SnBvd.js";const N={class:"route-container"},I={class:"settings-navigation"},U={class:"account-wrapper"},D=["src"],H={class:"account__info"},M={class:"account__info-name"},P={class:"account__info-name-text"},z={key:0,class:"account__info-admin"},R={class:"account__info-id"},A={class:"ml-4"},E=h({__name:"MyPage",setup(K){const n=y(),i=m();return x(async()=>{await n.fetchUser(),await i.fetchServerVersion()}),(T,e)=>{const p=d("router-link"),r=d("Icon");return _(),u("div",N,[s(f),t("main",null,[s(g),s(v,{"hide-on-smartphone-vertical":!0}),s(C,{class:"settings-container d-flex px-5 py-5 mx-auto",elevation:"0",width:"100%","max-width":"1000"},{default:o(()=>[t("nav",I,[e[3]||(e[3]=t("h1",{class:"mt-2",style:{"font-size":"24px"}},"マイページ",-1)),b((_(),w(p,{to:"/settings/account",class:"account mt-6"},{default:o(()=>[t("div",U,[t("img",{class:"account__icon",src:a(n).user?a(n).user_icon_url??"":"/assets/images/account-icon-default.png"},null,8,D),t("div",H,[t("div",M,[t("span",P,c(a(n).user?a(n).user.name:"ログインしていません"),1),a(n).user?.is_admin?(_(),u("span",z,"管理者")):V("",!0)]),t("span",R,c(a(n).user?`User ID: ${a(n).user.id}`:"Not logged in"),1)])])]),_:1})),[[B]]),s(l,{variant:"flat",class:"settings-navigation__button",to:"/settings/"},{default:o(()=>[s(r,{icon:"fluent:settings-20-regular",width:"26px"}),e[0]||(e[0]=t("span",{class:"ml-4"},"設定",-1))]),_:1}),s(l,{variant:"flat",class:"settings-navigation__button mt-3",to:"/mylist/"},{default:o(()=>[s(r,{icon:"ic:round-playlist-play",width:"26px"}),e[1]||(e[1]=t("span",{class:"ml-4"},"マイリスト",-1))]),_:1}),s(l,{variant:"flat",class:"settings-navigation__button",to:"/watched-history/"},{default:o(()=>[s(r,{icon:"fluent:history-20-regular",width:"26px"}),e[2]||(e[2]=t("span",{class:"ml-4"},"視聴履歴",-1))]),_:1}),s(l,{variant:"flat",class:k(["settings-navigation__button settings-navigation__button--version mt-3",{"settings-navigation__button--version-highlight":a(i).is_update_available}]),href:"https://github.com/yyya-nico/KonomiTV",target:"_blank"},{default:o(()=>[s(r,{icon:"fluent:info-20-regular",width:"26px"}),t("span",A," version "+c(a(i).client_version)+c(a(i).is_update_available?" (Update Available)":""),1)]),_:1},8,["class"])])]),_:1})])])}}}),L=S(E,[["__scopeId","data-v-2bf94ab9"]]);export{L as default};
